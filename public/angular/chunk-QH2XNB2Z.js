import{a as k,h as D,j as x}from"./chunk-Q7TLRHPZ.js";import{Eb as S,La as f,Na as s,P as v,Pa as u,Qa as h,Ra as y,Sa as r,Ta as p,U as b,Ua as a,X as c,Xa as m,ab as n,bb as l,cb as U,eb as C,gb as M,ib as I,na as d,va as P,ya as i}from"./chunk-CQTJWUY3.js";function $(e,o){if(e&1&&a(0,"video",4),e&2){let t=m(3);s("src",t.baseUrl+"/"+t.post().media,P)}}function A(e,o){if(e&1&&a(0,"img",5),e&2){let t=m(3);s("src",t.baseUrl+"/"+t.post().media,P)}}function E(e,o){if(e&1&&f(0,$,1,1,"video",4)(1,A,1,1,"img",5),e&2){let t=m(2);u(t.post().mediatype=="video/mp4"||t.post().mediatype=="video/webm"?0:1)}}function N(e,o){if(e&1&&(r(0,"article",0)(1,"span"),n(2),p(),n(3," \xA0 "),r(4,"span",1),n(5),p(),n(6," \xA0 "),r(7,"span",2),n(8),M(9,"date"),p(),r(10,"p"),n(11),p(),f(12,E,2,1),r(13,"div",3)(14,"div"),n(15),p()()()),e&2){let t=m();s("routerLink","/"+t.post().User.username+"/post/"+t.post().id),i(2),l(t.post().User.displayname),i(3),l("@"+t.post().User.username),i(3),l(I(9,7,t.post().createdAt,"d/M/YY, h:mm a")),i(3),l(t.post().content),i(),u(t.post().media?12:-1),i(3),U("C : ",t.post().commentcount,"")}}var g=class e{post=d.required();baseUrl=x.baseUrl;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-post"]],inputs:{post:[1,"post"]},standalone:!0,features:[C],decls:1,vars:1,consts:[[3,"routerLink"],[1,"username"],[1,"date"],[1,"action"],["preload","none","controls","",3,"src"],[3,"src"]],template:function(t,_){t&1&&f(0,N,16,10,"article",0),t&2&&u(_.post()?0:-1)},dependencies:[D,S],styles:["article[_ngcontent-%COMP%]{border:1px solid whitesmoke;border-radius:2px;padding:8px;margin:8px 0}span[_ngcontent-%COMP%]{font-weight:700}span.date[_ngcontent-%COMP%]{font-weight:100;font-size:12px}span.username[_ngcontent-%COMP%]{font-weight:400}p[_ngcontent-%COMP%]{color:#fff}.action[_ngcontent-%COMP%]{display:flex;font-size:12px}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{display:block;width:80%;margin:auto;object-fit:contain}"]})};var j=(e,o)=>o.id;function z(e,o){if(e&1&&a(0,"app-post",0),e&2){let t=o.$implicit;s("post",t)}}var T=class e{list=d();username;constructor(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-postlist"]],inputs:{list:[1,"list"]},standalone:!0,features:[C],decls:2,vars:0,consts:[[3,"post"]],template:function(t,_){t&1&&h(0,z,1,1,"app-post",0,j),t&2&&y(_.list())},dependencies:[g]})};var w=class e{constructor(o){this.http=o}baseUrl=x.baseUrl;getAllPosts(){return this.http.get(this.baseUrl+"/server/posts")}getAllUserPosts(o){return this.http.get(`${this.baseUrl}/server/${o}/posts`)}getUserPostById(o,t){return this.http.get(`${this.baseUrl}/server/${o}/post/${t}`)}addNewPost(o){let t=new FormData;return t.append("content",o.content),t.append("id",o.id.toString()),t.append("parentpostid",o.parentpostid?.toString()??""),o.file&&t.append("file",o.file),this.http.post(this.baseUrl+"/server/post",t)}static \u0275fac=function(t){return new(t||e)(b(k))};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})};export{g as a,T as b,w as c};
