import{$a as v,Db as A,La as E,Na as F,Pa as P,Sa as a,Ta as s,Ua as V,Va as D,Wa as l,X as T,Ya as C,Z as b,Za as x,_a as _,ab as c,bb as I,cb as M,da as u,ea as p,eb as R,gb as S,ma as m,na as g,oa as w,vb as k,ya as f,za as y}from"./chunk-7YK7SVYE.js";var d=class r{constructor(t){this.el=t}countChange=m();onInput(){let t=this.el.nativeElement.value.length;this.countChange.emit(t)}static \u0275fac=function(n){return new(n||r)(y(w))};static \u0275dir=b({type:r,selectors:[["","appCharactercounter",""]],hostBindings:function(n,e){n&1&&l("input",function(){return e.onInput()})},outputs:{countChange:"countChange"},standalone:!0})};var O=["comment"],j=["fileinput"],z=(r,t,n)=>({green:r,orange:t,red:n});function B(r,t){r&1&&V(0,"br")(1,"progress",6)}var Q=class r{charCount=255;clearTextArea=g();placeholderText=g();sendText=m();choosenFile;textbox;fileinput;showProgress=!1;constructor(){k(()=>{this.clearTextArea()&&(this.textbox.nativeElement.value="",this.fileinput.nativeElement.value="",this.choosenFile=null,this.showProgress=!1)})}updateCount(t){this.charCount=255-t}add(t){this.sendText.emit({content:t,file:this.choosenFile,id:-1,parentpostid:null}),this.showProgress=!0}setFile(t){let n=t.target;n?.files?.length?this.choosenFile=n.files[0]:this.choosenFile=null}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=T({type:r,selectors:[["app-textarea"]],viewQuery:function(n,e){if(n&1&&(C(O,5),C(j,5)),n&2){let i;x(i=_())&&(e.textbox=i.first),x(i=_())&&(e.fileinput=i.first)}},inputs:{clearTextArea:[1,"clearTextArea"],placeholderText:[1,"placeholderText"]},outputs:{sendText:"sendText"},standalone:!0,features:[R],decls:14,vars:9,consts:[["comment",""],["fileinput",""],["rows","5","appCharactercounter","",3,"countChange","placeholder","ngClass"],["type","file","accept","image/jpeg,image/png,image/jpg,image/gif,video/mp4,video/webm","hidden","",2,"margin-left","auto",3,"change"],[3,"click"],[1,"filename"],["aria-busy","true"]],template:function(n,e){if(n&1){let i=D();a(0,"textarea",2,0),l("countChange",function(o){return u(i),p(e.updateCount(o))}),s(),a(2,"div"),c(3),a(4,"input",3,1),l("change",function(o){return u(i),p(e.setFile(o))}),s(),a(6,"button",4),l("click",function(){u(i);let o=v(5);return p(o.click())}),c(7,"Upload"),s(),a(8,"span",5),c(9),s(),c(10," \xA0 "),a(11,"button",4),l("click",function(){u(i);let o=v(1);return p(e.add(o.value))}),c(12,"Post"),s(),E(13,B,2,0),s()}n&2&&(F("placeholder",e.placeholderText())("ngClass",S(5,z,e.charCount>=160,e.charCount<160&&e.charCount>=60,e.charCount<60)),f(3),M(" ",e.charCount," \xA0 "),f(6),I(e.choosenFile?e.choosenFile.name:""),f(4),P(e.showProgress?13:-1))},dependencies:[d,A],styles:["textarea[_ngcontent-%COMP%]{margin:8px 0;width:100%;font-size:16px;padding:8px;border-radius:2px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;resize:none;background-color:transparent;color:#f5f5f5;border-color:#2e4052}textarea[_ngcontent-%COMP%]:focus-visible.green{outline:green;border-color:green}textarea[_ngcontent-%COMP%]:focus-visible.orange{border-color:orange;outline:orange}textarea[_ngcontent-%COMP%]:focus-visible.red{border-color:red;outline:red}.filename[_ngcontent-%COMP%]{font-size:12px}"]})};export{Q as a};
