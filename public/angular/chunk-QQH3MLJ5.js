import{$a as C,Cb as S,Na as b,Sa as a,Ta as l,Va as w,Wa as s,X as x,Ya as y,Z as _,Za as E,_a as F,ab as p,bb as V,cb as P,da as c,ea as u,eb as D,fb as I,ma as m,na as h,oa as v,ub as M,ya as g,za as T}from"./chunk-EZ55MZ76.js";var d=class r{constructor(t){this.el=t}countChange=m();onInput(){let t=this.el.nativeElement.value.length;this.countChange.emit(t)}static \u0275fac=function(e){return new(e||r)(T(v))};static \u0275dir=_({type:r,selectors:[["","appCharactercounter",""]],hostBindings:function(e,n){e&1&&s("input",function(){return n.onInput()})},outputs:{countChange:"countChange"},standalone:!0})};var H=["comment"],O=(r,t,e)=>({green:r,orange:t,red:e}),k=class r{charCount=255;setText=h();placeholderText=h();sendText=m();choosenFile;textbox;constructor(){M(()=>{this.setText()&&(this.textbox.nativeElement.value="")})}updateCount(t){this.charCount=255-t}add(t){this.sendText.emit({content:t,file:this.choosenFile,id:-1,parentpostid:null})}setFile(t){let e=t.target;e?.files?.length?this.choosenFile=e.files[0]:this.choosenFile=null}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=x({type:r,selectors:[["app-textarea"]],viewQuery:function(e,n){if(e&1&&y(H,5),e&2){let i;E(i=F())&&(n.textbox=i.first)}},inputs:{setText:[1,"setText"],placeholderText:[1,"placeholderText"]},outputs:{sendText:"sendText"},standalone:!0,features:[D],decls:12,vars:8,consts:[["comment",""],["fileinput",""],["rows","5","appCharactercounter","",3,"countChange","placeholder","ngClass"],["type","file","accept","image/jpeg,image/png,image/jpg,image/gif,video/mp4,video/webm","hidden","",2,"margin-left","auto",3,"change"],[3,"click"],[1,"filename"]],template:function(e,n){if(e&1){let i=w();a(0,"textarea",2,0),s("countChange",function(o){return c(i),u(n.updateCount(o))}),l(),a(2,"div"),p(3),a(4,"input",3,1),s("change",function(o){return c(i),u(n.setFile(o))}),l(),a(6,"button",4),s("click",function(){c(i);let o=C(5);return u(o.click())}),p(7,"Upload"),l(),a(8,"span",5),p(9),l(),a(10,"button",4),s("click",function(){c(i);let o=C(1);return u(n.add(o.value))}),p(11,"Post"),l()()}e&2&&(b("placeholder",n.placeholderText())("ngClass",I(4,O,n.charCount>=160,n.charCount<160&&n.charCount>=60,n.charCount<60)),g(3),P(" ",n.charCount," "),g(6),V(n.choosenFile?n.choosenFile.name:""))},dependencies:[d,S],styles:["textarea[_ngcontent-%COMP%]{margin:8px 0;width:100%;font-size:16px;padding:8px;border-radius:2px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;resize:none;background-color:transparent;color:#f5f5f5}textarea[_ngcontent-%COMP%]:focus-visible.green{outline:green;border-color:green}textarea[_ngcontent-%COMP%]:focus-visible.orange{border-color:orange;outline:orange}textarea[_ngcontent-%COMP%]:focus-visible.red{border-color:red;outline:red}.filename[_ngcontent-%COMP%]{font-size:12px}"]})};export{k as a};
